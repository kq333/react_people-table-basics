(this["webpackJsonpreact_people-table-basics"]=this["webpackJsonpreact_people-table-basics"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(16),a=c(7),s=(c(26),c(27),c(8)),r=c(1),i=c(2),o=c(13),l=c(0),j=function(e){var t=e.person,c=e.addClassToRow,n=e.clickedSlug,s=t.born,r=t.died,i=t.sex,o=t.name,j=t.fatherName,d=t.motherName,b=t.slug;return Object(l.jsxs)("tr",{"data-cy":"person",className:n===b?"has-background-warning":"",children:[Object(l.jsx)("td",{children:Object(l.jsx)(a.b,{to:"/people/".concat(b),onClick:function(){c(b)},className:"f"===i?"has-text-danger":"",children:o})}),Object(l.jsx)("td",{children:i}),Object(l.jsx)("td",{children:s}),Object(l.jsx)("td",{children:r}),Object(l.jsx)("td",{children:"f"===i?Object(l.jsx)(a.b,{to:"/people/".concat(b),className:"has-text-danger",children:d||"-"}):Object(l.jsx)("span",{children:d||"-"})}),Object(l.jsx)("td",{children:"m"===i?Object(l.jsx)(a.b,{to:"/people/".concat(b),className:"has-color-grey-lighter",children:j||"-"}):Object(l.jsx)("span",{children:j||"-"})})]})},d=(c(33),function(){return Object(l.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(l.jsx)("div",{className:"Loader__content"})})}),b=function(e){var t=e.error;return Object(l.jsx)("div",{className:"block",children:Object(l.jsxs)("div",{className:"box table-container",children:[Object(l.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:t}),Object(l.jsx)("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"})]})})},h=function(e){var t=e.personData,c=e.error,n=Object(r.useState)("Home"),a=Object(s.a)(n,2),i=a[0],h=a[1],O=function(e){h(e)},u=t.map((function(e){var c=t.find((function(t){return t.name===e.motherName})),n=t.find((function(t){return t.name===e.fatherName}));return Object(o.a)(Object(o.a)({},e),{},{mother:c,father:n})}));return Object(l.jsxs)(l.Fragment,{children:[c&&Object(l.jsx)(b,{error:c}),!c&&t.length>0&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"title",children:"People Page"}),Object(l.jsx)("div",{className:"box table-container",children:t.length>0&&Object(l.jsxs)("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Sex"}),Object(l.jsx)("th",{children:"Born"}),Object(l.jsx)("th",{children:"Died"}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:u.map((function(e){return Object(l.jsx)(j,{person:e,addClassToRow:O,clickedSlug:i},e.slug)}))})]})})]}),!c&&t.length&&Object(l.jsx)(d,{})]})},O=function(e){var t=e.clickedNavs,c=e.handleNavClick,n=Object(r.useState)(!1),i=Object(s.a)(n,2),o=i[0],j=i[1];Object(r.useEffect)((function(){j(t.includes("/people"))}),[t]);return Object(l.jsx)("nav",{"data-cy":"nav",className:"navbar is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"navbar-brand",children:[Object(l.jsx)(a.c,{className:"navbar-item ".concat(!o&&"has-background-grey-lighter"),exact:!0,to:"/",children:"Home"}),Object(l.jsx)(a.c,{className:"navbar-item ".concat(o&&"has-background-grey-lighter"),to:"/people",onClick:function(){j(!0),c("/people")},children:"People"})]})})})},u=function(){return Object(l.jsx)("h1",{className:"title",children:"Home Page"})},x=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("h1",{className:"title",children:"Page not found"})})};function p(){return(e=500,new Promise((function(t){return setTimeout(t,e)}))).then((function(){return fetch("https://mate-academy.github.io/react_people-table/api/people.json")})).then((function(e){return e.json()}));var e}c(34);var m=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],o=Object(r.useState)(""),j=Object(s.a)(o,2),d=j[0],b=j[1],m=Object(r.useState)(window.location.hash.substr(1)||"/"),f=Object(s.a)(m,2),v=f[0],g=f[1],N=Object(i.f)();Object(r.useEffect)((function(){"/"===v&&n([]),p().then((function(e){n(e)})).catch((function(e){b(e.message)})),g(window.location.hash.substr(1)||"/")}),[N]),Object(r.useEffect)((function(){var e=function(){g(window.location.hash.substr(1))};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);return Object(l.jsx)(a.a,{children:Object(l.jsxs)("div",{"data-cy":"app",children:[Object(l.jsx)(O,{clickedNavs:v,handleNavClick:function(e){window.location.hash=e}}),Object(l.jsx)("main",{className:"section",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",children:Object(l.jsx)(u,{})}),Object(l.jsx)(i.a,{path:"/people",children:Object(l.jsx)(h,{personData:c,error:d})}),Object(l.jsx)(i.a,{children:Object(l.jsx)(x,{})})]})})})]})})};Object(n.createRoot)(document.getElementById("root")).render(Object(l.jsx)(a.a,{children:Object(l.jsx)(m,{})}))}},[[35,1,2]]]);
//# sourceMappingURL=main.38d6d5d4.chunk.js.map