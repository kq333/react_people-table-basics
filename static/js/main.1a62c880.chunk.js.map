{"version":3,"sources":["components/Tabledata.tsx/TableDetails.tsx","components/Loader/Loader.tsx","components/Error/Error.tsx","components/Tabledata.tsx/TableList.tsx","components/Navbar/Navbar.tsx","components/Homepage/Homepage.tsx","api.ts","App.tsx","index.tsx"],"names":["TableDetails","_ref","person","addClassToRow","clickedSlug","born","died","sex","name","fatherName","motherName","slug","_jsxs","className","children","_jsx","Link","to","concat","onClick","Loader","Error","error","TableList","personData","_useState","useState","_useState2","_slicedToArray","setClickedSlug","combineData","map","mother","find","motherPerson","father","fatherPerson","_objectSpread","_Fragment","length","Navbar","clickedNavs","handleNavClick","isNavigationClicked","setIsNavigationClicked","useEffect","includes","role","NavLink","exact","Homepage","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","App","setApiData","_useState3","_useState4","setError","_useState5","window","location","hash","substr","_useState6","useLocation","res","catch","err","message","handlePopstate","addEventListener","removeEventListener","HashRouter","route","Switch","Route","path","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.1a62c880.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../../types/Person';\n\ninterface Props {\n  person: Person;\n  addClassToRow: (event: string) => void;\n  clickedSlug: string;\n}\n\nexport const TableDetails: React.FC<Props> = ({\n  person,\n  addClassToRow,\n  clickedSlug,\n}) => {\n  const {\n    born, died, sex, name, fatherName, motherName, slug,\n  } = person;\n\n  const handleClick = (event: string) => {\n    addClassToRow(event);\n  };\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={clickedSlug === slug ? 'has-background-warning' : ''}\n    >\n      <td>\n        <Link\n          to={`/people/${slug}`}\n          onClick={() => handleClick(slug)}\n          className={sex === 'f' ? 'has-text-danger' : ''}\n        >\n          {name}\n        </Link>\n      </td>\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {sex === 'f' ? (\n          <Link to={`/people/${slug}`} className=\"has-text-danger\">\n            {motherName || '-'}\n          </Link>\n        ) : (\n          <span>{motherName || '-'}</span>\n        )}\n      </td>\n      <td>\n        {sex === 'm' ? (\n          <Link to={`/people/${slug}`} className=\"has-color-grey-lighter\">\n            {fatherName || '-'}\n          </Link>\n        ) : (\n          <span>{fatherName || '-'}</span>\n        )}\n      </td>\n    </tr>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","interface Props {\n  error: string;\n}\n\nexport const Error: React.FC<Props> = ({ error }) => {\n  return (\n    <div className=\"block\">\n      <div className=\"box table-container\">\n\n        <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n          {error}\n        </p>\n\n        <p data-cy=\"noPeopleMessage\">\n          There are no people on the server\n        </p>\n\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { TableDetails } from './TableDetails';\nimport { Loader } from '../Loader/Loader';\nimport { Error } from '../Error/Error';\n\nimport { Person } from '../../types/Person';\n\ninterface Props {\n  personData: Person[];\n  error: string;\n}\n\nexport const TableList: React.FC<Props> = ({ personData, error }) => {\n  const [clickedSlug, setClickedSlug] = useState('Home');\n\n  const addClassToRow = (slug: string) => {\n    setClickedSlug(slug);\n  };\n\n  const combineData = personData.map((person) => {\n    const mother = personData.find((motherPerson) => {\n      return motherPerson.name === person.motherName;\n    });\n    const father = personData.find((fatherPerson) => {\n      return fatherPerson.name === person.fatherName;\n    });\n\n    return {\n      ...person,\n      mother,\n      father,\n    };\n  });\n\n  return (\n\n    <>\n      {error && <Error error={error} />}\n      {!error && personData.length > 0 && (\n\n        <div className=\"box table-container\">\n          {personData.length > 0 && (\n            <table\n              data-cy=\"peopleTable\"\n              className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n            >\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Sex</th>\n                  <th>Born</th>\n                  <th>Died</th>\n                  <th>Mother</th>\n                  <th>Father</th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {combineData.map((person) => (\n                  <TableDetails\n                    person={person}\n                    key={person.slug}\n                    addClassToRow={addClassToRow}\n                    clickedSlug={clickedSlug}\n                  />\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n\n      )}\n      {!error && personData.length === 0 && <Loader />}\n\n    </>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\n\ninterface Props {\n  clickedNavs: string;\n  handleNavClick: (value: string) => void;\n}\n\nexport const Navbar: React.FC<Props> = ({ clickedNavs, handleNavClick }) => {\n  const [isNavigationClicked, setIsNavigationClicked] = useState(false);\n\n  useEffect(() => {\n    setIsNavigationClicked(clickedNavs.includes('/people'));\n  }, [clickedNavs]);\n\n  const handleNavLinkClick = () => {\n    setIsNavigationClicked(true);\n    handleNavClick('/people');\n  };\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            className={`navbar-item ${!isNavigationClicked && 'has-background-grey-lighter'}`}\n            exact\n            to=\"/\"\n          >\n            Home\n          </NavLink>\n          <NavLink\n            className={`navbar-item ${isNavigationClicked && 'has-background-grey-lighter'}`}\n            to=\"/people\"\n            onClick={handleNavLinkClick}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","export const Homepage = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { useEffect, useState } from 'react';\nimport {\n  Route,\n  HashRouter,\n  Switch,\n  useLocation,\n} from 'react-router-dom';\n\n/* import { Loader } from './components/Loader'; */\nimport { TableList } from './components/Tabledata.tsx/TableList';\n/* import { Error } from './components/Error/Error'; */\nimport { Navbar } from './components/Navbar/Navbar';\nimport { Homepage } from './components/Homepage/Homepage';\nimport { Person } from './types/Person';\n\nimport { getPeople } from './api';\n\nimport './App.scss';\n\nexport const App = () => {\n  const [personData, setApiData] = useState<Person[]>([]);\n  const [error, setError] = useState('');\n  const [isNavigationClicked, setIsNavigationClicked] = useState(\n    window.location.hash.substr(1) || '/',\n  );\n\n  const location = useLocation();\n\n  const fetchData = () => {\n    getPeople()\n      .then((res) => {\n        setApiData(res);\n      })\n      .catch((err) => {\n        setError(err.message);\n      });\n  };\n\n  useEffect(() => {\n    if (isNavigationClicked === '/') {\n      setApiData([]);\n    }\n\n    fetchData();\n    setIsNavigationClicked(window.location.hash.substr(1) || '/');\n  }, [location]);\n\n  useEffect(() => {\n    const handlePopstate = () => {\n      setIsNavigationClicked(window.location.hash.substr(1));\n    };\n\n    window.addEventListener('popstate', handlePopstate);\n\n    return () => {\n      window.removeEventListener('popstate', handlePopstate);\n    };\n  }, []);\n\n  const handleNavClick = (route: string) => {\n    window.location.hash = route;\n  };\n\n  return (\n    <HashRouter>\n      <div data-cy=\"app\">\n        <Navbar\n          clickedNavs={isNavigationClicked}\n          handleNavClick={handleNavClick}\n        />\n        <main className=\"section\">\n          <div className=\"container\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Homepage />\n              </Route>\n\n              <Route path=\"/people\">\n                <h1 className=\"title\">People Page</h1>\n                <TableList\n                  personData={personData}\n                  error={error}\n                />\n              </Route>\n\n              <Route>\n                <h1 className=\"title\">Page not found</h1>\n              </Route>\n            </Switch>\n          </div>\n        </main>\n      </div>\n    </HashRouter>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}