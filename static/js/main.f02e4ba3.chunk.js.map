{"version":3,"sources":["components/Loader/Loader.tsx","components/Tabledata.tsx/TableDetails.tsx","components/Tabledata.tsx/TableList.tsx","components/Error/Error.tsx","components/Navbar/Navbar.tsx","api.ts","App.tsx","index.tsx"],"names":["Loader","_jsx","className","children","TableDetails","_ref","person","addClassToRow","clickedSlug","born","died","sex","name","fatherName","motherName","slug","_jsxs","Link","to","concat","onClick","TableList","personData","_useState","useState","_useState2","_slicedToArray","setClickedSlug","combineData","map","mother","find","motherPerson","father","fatherPerson","_objectSpread","length","Error","error","Navbar","clickedNavs","clickedNav","setClickedNav","useEffect","role","NavLink","exact","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","App","setApiData","_useState3","_useState4","setError","_useState5","window","location","hash","substr","_useState6","useLocation","res","catch","err","message","handlePopstate","addEventListener","removeEventListener","HashRouter","handleNavClick","route","Switch","Route","path","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.f02e4ba3.chunk.js","sourcesContent":["import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../../types/Person';\n\ninterface Props {\n  person: Person;\n  addClassToRow: (event: string) => void;\n  clickedSlug: string;\n}\n\nexport const TableDetails: React.FC<Props> = ({\n  person,\n  addClassToRow,\n  clickedSlug,\n}) => {\n  const {\n    born, died, sex, name, fatherName, motherName, slug,\n  } = person;\n\n  const handleClick = (event: string) => {\n    addClassToRow(event);\n  };\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={clickedSlug === slug ? 'has-background-warning' : ''}\n    >\n      <td>\n        <Link\n          to={`/people/${slug}`}\n          onClick={() => handleClick(slug)}\n          className={sex === 'f' ? 'has-text-danger' : ''}\n        >\n          {name}\n        </Link>\n      </td>\n      <td>{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {sex === 'f' ? (\n          <Link to={`/people/${slug}`} className=\"has-text-danger\">\n            {motherName || '-'}\n          </Link>\n        ) : (\n          <span>{motherName || '-'}</span>\n        )}\n      </td>\n      <td>\n        {sex === 'm' ? (\n          <Link to={`/people/${slug}`} className=\"has-color-grey-lighter\">\n            {fatherName || '-'}\n          </Link>\n        ) : (\n          <span>{fatherName || '-'}</span>\n        )}\n      </td>\n    </tr>\n  );\n};\n","import React, { useState } from 'react';\nimport { TableDetails } from './TableDetails';\n\nimport { Person } from '../../types/Person';\n\ninterface Props {\n  personData: Person[];\n}\n\nexport const TableList: React.FC<Props> = ({ personData }) => {\n  const [clickedSlug, setClickedSlug] = useState('Home');\n\n  const addClassToRow = (slug: string) => {\n    setClickedSlug(slug);\n  };\n\n  const combineData = personData.map((person) => {\n    const mother = personData.find((motherPerson) => {\n      return motherPerson.name === person.motherName;\n    });\n    const father = personData.find((fatherPerson) => {\n      return fatherPerson.name === person.fatherName;\n    });\n\n    return {\n      ...person,\n      mother,\n      father,\n    };\n  });\n\n  return (\n    <div className=\"box table-container\">\n      {personData.length > 0 && (\n        <table\n          data-cy=\"peopleTable\"\n          className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n        >\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Sex</th>\n              <th>Born</th>\n              <th>Died</th>\n              <th>Mother</th>\n              <th>Father</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {combineData.map((person) => (\n              <TableDetails\n                person={person}\n                key={person.slug}\n                addClassToRow={addClassToRow}\n                clickedSlug={clickedSlug}\n              />\n            ))}\n          </tbody>\n        </table>\n      )}\n    </div>\n  );\n};\n","interface Props {\n  error: string;\n}\n\nexport const Error: React.FC<Props> = ({ error }) => {\n  return (\n    <div className=\"block\">\n      <div className=\"box table-container\">\n\n        <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n          {error}\n        </p>\n\n        <p data-cy=\"noPeopleMessage\">\n          There are no people on the server\n        </p>\n\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\n\ninterface Props {\n  clickedNavs: string;\n  handleNavClick: (value: string) => void;\n}\n\nexport const Navbar: React.FC<Props> = ({ clickedNavs }) => {\n  const [clickedNav, setClickedNav] = useState(clickedNavs);\n\n  useEffect(() => {\n    setClickedNav(clickedNavs);\n  }, [clickedNavs]);\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            className={`navbar-item ${clickedNav === '/' && 'has-background-grey-lighter'}`}\n            exact\n            to=\"/\"\n          >\n            Home\n          </NavLink>\n          <NavLink\n            className={`navbar-item ${clickedNav === '/people' && 'has-background-grey-lighter'}`}\n            to=\"/people\"\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { useEffect, useState } from 'react';\nimport {\n  Route,\n  HashRouter,\n  Switch,\n  useLocation,\n} from 'react-router-dom';\n\nimport { Loader } from './components/Loader';\nimport { TableList } from './components/Tabledata.tsx/TableList';\nimport { Error } from './components/Error/Error';\nimport { Navbar } from './components/Navbar/Navbar';\nimport { Person } from './types/Person';\n\nimport { getPeople } from './api';\n\nimport './App.scss';\n\nexport const App = () => {\n  const [personData, setApiData] = useState<Person[]>([]);\n  const [error, setError] = useState('');\n  const [clickedNav, setClickedNav] = useState(\n    window.location.hash.substr(1) || '/',\n  );\n\n  const location = useLocation();\n\n  const fetchData = () => {\n    getPeople()\n      .then((res) => {\n        setApiData(res);\n      })\n      .catch((err) => {\n        setError(err.message);\n      });\n  };\n\n  useEffect(() => {\n    if (clickedNav === '/') {\n      setApiData([]);\n    }\n\n    fetchData();\n    setClickedNav(window.location.hash.substr(1) || '/');\n  }, [location]);\n\n  useEffect(() => {\n    const handlePopstate = () => {\n      setClickedNav(window.location.hash.substr(1));\n    };\n\n    window.addEventListener('popstate', handlePopstate);\n\n    return () => {\n      window.removeEventListener('popstate', handlePopstate);\n    };\n  }, []);\n\n  const handleNavClick = (route: string) => {\n    window.location.hash = route;\n  };\n\n  return (\n    <HashRouter>\n      <div data-cy=\"app\">\n        <Navbar\n          clickedNavs={clickedNav}\n          handleNavClick={handleNavClick}\n        />\n        <main className=\"section\">\n          <div className=\"container\">\n            <Switch>\n              <Route exact path=\"/\">\n                <h1 className=\"title\">Home Page</h1>\n              </Route>\n              <Route path=\"/people\">\n                {error && <Error error={error} />}\n                {!error && personData.length > 0 && (\n                  <TableList personData={personData} />\n                )}\n                {!error && personData.length === 0 && <Loader />}\n              </Route>\n              <Route>\n                <h1 className=\"title\">Page not found</h1>\n              </Route>\n            </Switch>\n          </div>\n        </main>\n      </div>\n    </HashRouter>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}